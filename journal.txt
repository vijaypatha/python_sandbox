How do i write the code? a better way to slove this problem? 